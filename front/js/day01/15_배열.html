<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>배열</title>
</head>
<body>
	<script>
		/*
		배열 선언 방법
		var 배열명 = [];
		var 배열명 = new Array(크기);
		var 배열명 = new Array(값1, 값2, ..., 값n);
		var 배열명 = Array(값1, 값2, ..., 값n);
		*/
		function print(arr){
			document.write(arr);
			document.write("<hr>");
		}
		var arr = [1, true, "안녕"];
		print(arr);
		/*
		push
			- 배열에 값을 배열 뒤에 추가
		pop
			- 배열 끝에 있는 값을 제거하고 제거한 값을 반환
		unshift
			- 배열에 값을 배열 앞에 추가
		shift
			- 배열 앞에 있는 값을 제거하고 제거한 값을 반환
		*/
		arr.push('하세요');
		arr.push(123);
		print(arr);
		
		var value = arr.pop();
		document.write(`삭제한 값 : ${value}<br>`);
		print(arr);

		arr.unshift('abc');
		arr.unshift(false);
		print(arr);

		value = arr.shift();
		document.write(`삭제한 값 : ${value}<br>`);
		print(arr);

		/*
		탐색
		indexOf(값)
			- 값이 배열의 앞에서 몇 번지에 있는지 반환, 없으면 -1을 반환
		lastIndexOf(값)
			- 값이 배열의 뒤에서 몇 번지에 있는지 반환, 없으면 -1을 반환
		includes(값)
			- 값이 배열에 있는지 없는지를 반환
		*/
		var search = 'abc';
		arr.push("abc");
		document.write(`배열에 ${search}가 앞에서 몇 번지에 있습니까? ${arr.indexOf(search)}<br>`);
		document.write(`배열에 ${search}가 뒤에서 몇 번지에 있습니까? ${arr.lastIndexOf(search)}<br>`);
		document.write(`배열에 ${search}가 있습니까? ${arr.includes(search)}<hr>`);

		search = '1';
		document.write(`배열에 '${search}'가 앞에서 몇 번지에 있습니까? ${arr.indexOf(search)}<br>`);
		document.write(`배열에 '${search}'가 뒤에서 몇 번지에 있습니까? ${arr.lastIndexOf(search)}<br>`);
		document.write(`배열에 '${search}'가 있습니까? ${arr.includes(search)}<hr>`);

		/*
		join(구분자)
			- 배열값들 사이에 구분자를 추가해서 하나의 문자열로 반환
		*/
		document.write(`arr.join(',') : ${arr.join(',')}<br>`);
		document.write(`arr.join('-') : ${arr.join('-')}<br><hr>`);

		/*
		slice(start?, end?)
			- 배열을 잘라내서 부분 배열을 생성해서 반환
			- 원본은 안 바뀜
			- start번지에서 end - 1번지까지 부분 배열을 생성해서 반환
		splice(start, count?)
			- 배열에서 start번지에서 count개만큼 삭제해서 삭제된 값을 반환
			- 원본이 바뀜
		splice(start, count, items?)
			- 배열에서 start번지에서 count개만큼 삭제한 후 items를 추가
		*/
		var arr2 = arr.slice(0);
		print(arr2);
		arr2.push('a');
		print(arr);
		
		var arr3 = arr; // =을 통해 arr3와 arr가 공유
		arr3.push('d');
		print(arr);

		var values = arr.splice(1, 2);
		document.write(`삭제된 값 : ${values}<br>`);
		print(arr);
		var values = arr.splice(2, 2, '안녕', 'Hi', 123);
		document.write(`삭제된 값 : ${values}<br>`);
		print(arr);

		/*
		map(콜백 함수)
			- 각 요소에 콜백 함수를 호출해서 만들어진 새로운 배열을 반환
			- 원본은 안바뀜
		filter(콜백 함수)
			- 콜백 함수 결과가 true인 요소들만 필터링
		reduce(콜백 함수, 초기값)
			- 콜백함수를 이용해서 하나의 값을 도출
		find(콜백 함수)
			- 콜백 함수가 처음으로 true가 되는 요소를 반환
		forEach(콜백 함수)
			- 각 요소에 콜백 함수를 실행
		*/
		// value는 배열에서 꺼낸 값, index는 번지, array는 배열 전체
		var arr4 = arr.map((value, index, array)=>{
			return value + 1;
		});
		print(arr4);

		var arr5 = arr.filter((value, index, array)=>{
			return typeof value == 'number';
		});
		print(arr5);

		var item = arr.find((value)=>{
			return typeof value == 'string';
		});
		document.write(item+"<hr>");

		arr.push(222);
		print(arr);
		var sum = arr.reduce((acc, value)=>{
			if(typeof value == 'number'){
				return acc + value;
			}
			return acc;
		}, 0);
		document.write(sum+"<hr>");

		arr.forEach((value)=>{
			document.write(`${value}<br>`);
		})
		hr();
	</script>
</body>
</html>