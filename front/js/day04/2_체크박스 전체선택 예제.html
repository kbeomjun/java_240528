<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>체크박스 전체선택 예제</title>
	<script src="../../static/jquery.min.js"></script>
</head>
<body>
	<table>
		<tr>
			<th>
				<input type="checkbox" name="" id="all"> 전체선택
			</th>
			<th>이름</th>
		</tr>
		<tr>
			<td>
				<input type="checkbox" class="checkbox">
			</td>
			<td>홍길동</td>
		</tr>
		<tr>
			<td>
				<input type="checkbox" class="checkbox">
			</td>
			<td>임꺽정</td>
		</tr>
	</table>

	<script>
		$("#all").change(function(){
			var checked = $(this).prop('checked');
			$('.checkbox').prop('checked', checked);
		});
		$('.checkbox').change(function(){
			// .checkbox에서 체크된 요소들의 개수를 가져옴
			var checkedCount = $('.checkbox:checked').length;
			// .checkbox의 개수
			var totalCount = $('.checkbox').length;
			if(checkedCount != totalCount){
				$('#all').prop('checked', false);
			}else{
				$('#all').prop('checked', true);
			}
		});
	</script>
</body>
</html>